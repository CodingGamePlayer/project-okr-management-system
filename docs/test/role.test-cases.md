# 역할 관리 테스트 케이스

## 1. 역할 생성 (POST /roles)

### 1.1. 정상 케이스

- **설명**: 올바른 데이터로 새로운 역할 생성
- **입력**:
  ```json
  {
    "name": "ADMIN"
  }
  ```
- **예상 결과**:
  - 상태 코드: 201
  - 응답: 생성된 역할 정보
  ```json
  {
    "id": 1,
    "name": "ADMIN"
  }
  ```

### 1.2. 중복 역할 케이스

- **설명**: 이미 존재하는 역할명으로 생성 시도
- **입력**: 기존 역할과 동일한 이름
- **예상 결과**:
  - 상태 코드: 409
  - 에러 메시지: "Role already exists"

### 1.3. 유효성 검사 실패 케이스

- **설명**: 잘못된 형식의 데이터로 생성 시도
- **테스트 항목**:
  - 필수 필드(name) 누락
  - 빈 문자열 입력
- **예상 결과**:
  - 상태 코드: 400
  - 상세 유효성 검사 오류 메시지

## 2. 역할 목록 조회 (GET /roles)

### 2.1. 정상 케이스

- **설명**: 전체 역할 목록 조회
- **예상 결과**:
  - 상태 코드: 200
  - 응답: 역할 목록 배열
  ```json
  [
    {
      "id": 1,
      "name": "ADMIN"
    },
    {
      "id": 2,
      "name": "USER"
    }
  ]
  ```

## 3. 특정 역할 조회 (GET /roles/:id)

### 3.1. 정상 케이스

- **설명**: 존재하는 역할 ID로 조회
- **예상 결과**:
  - 상태 코드: 200
  - 응답: 해당 역할의 상세 정보
  ```json
  {
    "id": 1,
    "name": "ADMIN"
  }
  ```

### 3.2. 존재하지 않는 역할 케이스

- **설명**: 존재하지 않는 ID로 조회
- **예상 결과**:
  - 상태 코드: 404
  - 에러 메시지: "Role with ID {id} not found"

## 4. 역할 정보 수정 (PATCH /roles/:id)

### 4.1. 정상 케이스

- **설명**: 기존 역할 정보 수정
- **입력**:
  ```json
  {
    "name": "SUPER_ADMIN"
  }
  ```
- **예상 결과**:
  - 상태 코드: 200
  - 응답: 수정된 역할 정보
  ```json
  {
    "id": 1,
    "name": "SUPER_ADMIN"
  }
  ```

### 4.2. 존재하지 않는 역할 케이스

- **설명**: 존재하지 않는 ID로 수정 시도
- **예상 결과**:
  - 상태 코드: 404
  - 에러 메시지: "Role with ID {id} not found"

### 4.3. 중복 역할명 케이스

- **설명**: 이미 존재하는 다른 역할의 이름으로 수정 시도
- **예상 결과**:
  - 상태 코드: 409
  - 에러 메시지: "Role name already exists"

## 5. 역할 삭제 (DELETE /roles/:id)

### 5.1. 정상 케이스

- **설명**: 존재하는 역할 삭제
- **예상 결과**:
  - 상태 코드: 204
  - 응답: 없음

### 5.2. 존재하지 않는 역할 케이스

- **설명**: 존재하지 않는 ID로 삭제 시도
- **예상 결과**:
  - 상태 코드: 404
  - 에러 메시지: "Role with ID {id} not found"

### 5.3. 사용 중인 역할 삭제 케이스

- **설명**: 사용자에게 할당된 역할 삭제 시도
- **예상 결과**:
  - 상태 코드: 400
  - 에러 메시지: "Cannot delete role that is assigned to users" 